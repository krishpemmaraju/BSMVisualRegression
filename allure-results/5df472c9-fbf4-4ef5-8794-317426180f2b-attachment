# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Validate Order Dialog pop up with Print and Edit Options
- Location: C:\Automation\AutomationNewSVN\AutoMisc\visualregression\tests\OrderCaptureTestsVisualRegression_NewUI.spec.ts:242:5

# Error details

```
Error: locator.click: Element is outside of the viewport
Call log:
  - waiting for locator('button[aria-label=\'Submit\']')
    - locator resolved to <button tabindex="-1" aria-label="Submit" class="BaseButtonStyles_styles_base__jvi3ds0 BaseButtonStyles_styles_sizes_sm__jvi3ds29 BaseButtonStyles_styles_variants_callToAction_base__jvi3dsz BaseButtonStyles_styles_styled__jvi3ds1 BaseButtonStyles_styles_variants_callToAction_pseudohover__jvi3ds14">Submit</button>
  - attempting click action
    - scrolling into view if needed
    - done scrolling

    at C:\Automation\AutomationNewSVN\AutoMisc\visualregression\tests\OrderCaptureTestsVisualRegression_NewUI.spec.ts:267:28
```

# Test source

```ts
  167 |     const addBtnOnProdDetailsPage = page.getByRole('button',{name:'Add to Basket'});
  168 |     const productDetailsText = page.locator("div.oj-flex.oj-sm-flex-direction-column   div.oj-typography-body-md.oj-flex-item.oj-sm-flex-initial");
  169 |     const getAlternateProductLink = page.locator("div.oj-collapsible-header-wrapper").nth(0);
  170 |     const getRelatedProducts = page.locator("div.oj-collapsible-header-wrapper").nth(1);
  171 |     await expect(getAlternateProductLink).toHaveText("Alternate Products");
  172 |     await expect(getRelatedProducts).toHaveText("Related Products");
  173 |     await page.locator("button[aria-label='Back']").click()
  174 | })
  175 |
  176 |
  177 |
  178 | test("Validate Add button on Product Search Page section", async () => {
  179 |     // await page.locator("input[aria-label='Product Search']").waitFor({timeout:5000})
  180 |     // await page.locator("input[aria-label='Product Search']").fill('');
  181 |     // await page.locator("input[aria-label='Product Search']").fill("D53216")
  182 |     const isAtpDateVisible = page.locator('span.oj-flex-item.oj-badge.custom-badge-atp');
  183 |     const isAvailableStockVisible = page.locator('span.oj-badge.oj-badge-sm.custom-badge');
  184 |     const productSearchAddBtn = page.locator("button[aria-label='Add']")
  185 |     await productSearchAddBtn.scrollIntoViewIfNeeded()
  186 |     await productSearchAddBtn.waitFor({state:'visible',timeout: 8000});
  187 |     await expect(productSearchAddBtn).toBeVisible({timeout:8000})
  188 |     await expect(isAtpDateVisible).toBeVisible();
  189 |     await expect(isAvailableStockVisible).toBeVisible();
  190 |     await expect(page.locator('wol-stock-quantity.oj-complete')).toHaveCount(1);
  191 | })
  192 |
  193 | // test("Validate Add product to basket section", async ({ page }) => {
  194 | //     await page.locator("input[aria-label='Product Search']").fill("219500")
  195 | //     const productSearchAddBtn = page.getByRole('button', { name: 'Add' })
  196 | //     await productSearchAddBtn.click()
  197 | //     await page.waitForSelector("[class*='oj-listview-item']", { state: 'visible', timeout: 15000 })
  198 | //     const productSelAddToBsktList = page.locator("[class='oj-listview-cell-element']")
  199 | //     await expect(productSelAddToBsktList).toBeVisible()
  200 | //     await expect(productSelAddToBsktList).toHaveScreenshot(["OrderCapture/AddToProductBasketSlotSection", "AddToProductBasketSlotSection.png"])
  201 | // })
  202 |
  203 | test("Validate Add product to basket layout and Validate Auto populate fields", async () => {
  204 |     // await page.locator("input[aria-label='Product Search']").fill("D53216")
  205 |     await page.locator("button[aria-label='Add']").waitFor({ state: 'visible', timeout: 9000 })
  206 |     const productSearchAddBtn = page.locator("button[aria-label='Add']")
  207 |     await productSearchAddBtn.click()
  208 |     await page.waitForSelector("[class*='oj-listview-item']", { state: 'visible', timeout: 15000 })
  209 |     await expect(page.locator("button[aria-label='Save']")).toBeVisible({timeout: 15000});
  210 |     const isCustomerAutoPopulated = await page.locator("oj-sp-scoreboard-metric-card[card-title='Customer'] div.oj-sp-scoreboard-metric-card-metric").textContent();
  211 |     expect(isCustomerAutoPopulated).not.toBeNull();
  212 |     // const isBillToAutoPopulated = await page.locator("oj-sp-scoreboard-metric-card[card-title='Bill to'] div.oj-sp-scoreboard-metric-card-metric").textContent();
  213 |     // expect(isBillToAutoPopulated).not.toBeNull();
  214 |     const isRequiredPopulated = await page.locator("oj-sp-scoreboard-metric-card[card-title='Required'] div.oj-sp-scoreboard-metric-card-metric").textContent();
  215 |     expect(isRequiredPopulated).not.toBeNull();
  216 |     // const isShippingMethodPopulated = await page.locator("oj-sp-scoreboard-metric-card[card-title='Shipping Method'] div.oj-sp-scoreboard-metric-card-metric").textContent();
  217 |     // expect(isShippingMethodPopulated).not.toBeNull();
  218 |     const isClearAllVisible = await page.locator("button[aria-label='Clear All']")
  219 |     expect(isClearAllVisible).toBeVisible()
  220 |     const productSelAddToBsktList = page.locator("[class='oj-listview-cell-element']")
  221 |     await expect(productSelAddToBsktList).toBeVisible()
  222 |     const addToBsktDecreaseBtn = page.locator("div.oj-listview-cell-element button[aria-label='Decrease']")
  223 |     const addToBsktIncreaseBtn = page.locator("div.oj-listview-cell-element button[aria-label='Increase']")
  224 |     const addToBsktDeleteBtn = page.locator("button[aria-label='Delete']")
  225 |     const isSubTotalDisplayed =  page.getByText('Sub Total');
  226 |     const isVATDisplayed =  page.getByText('VAT');
  227 |     const isTotalDisplayed =  page.getByText('Total',{exact: true});
  228 |     await expect(isSubTotalDisplayed).toBeVisible();
  229 |     await expect(isVATDisplayed).toBeVisible();
  230 |     await expect(isTotalDisplayed).toBeVisible();
  231 |     await expect(addToBsktDecreaseBtn).toBeVisible();
  232 |     await expect(addToBsktIncreaseBtn).toBeVisible();
  233 |     await expect(addToBsktDeleteBtn).toBeVisible();
  234 | })
  235 |
  236 | test("Validate Detail Slot (Add Basket Section) in Order Capture Page", async () => {
  237 |     const detailSlotSection = page.locator("oj-vb-fragment-slot[name='detail']")
  238 |     await expect(detailSlotSection).toHaveScreenshot(["OrderCapture/DetailSlotSection", "DetailSlotSectionOnOrderCapturePage.png"])
  239 | })
  240 |
  241 |
  242 | test("Validate Order Dialog pop up with Print and Edit Options", async () => {
  243 |     const customerContentSlotSelection = page.locator("oj-sp-scoreboard-metric-card[card-title='Customer']");
  244 |     const customerSearchInputAvailable = page.locator("input[aria-label='Customer Search']");
  245 |     const selectCustomerListed = page.getByText('7000D54')
  246 |     const customerSearchResultsAvailable = page.locator('oj-c-list-view.customer-list');
  247 |     const clickOnChangeButton =  page.locator('#btnChangeCustomer');
  248 |     const clickOnClearAllBtn = page.locator("button[aria-label='Clear All']");
  249 |     
  250 |     await clickOnClearAllBtn.click();
  251 |     await customerContentSlotSelection.click();
  252 |     await page.locator("div[title='Customer Details']").waitFor({timeout: 7000})
  253 |     if(await clickOnChangeButton.isVisible({timeout: 6000})){
  254 |       await clickOnChangeButton.click(); }
  255 |     await customerSearchInputAvailable.fill('7000D54')
  256 |     await selectCustomerListed.waitFor({state:'visible', timeout: 6000});
  257 |     await expect(customerSearchResultsAvailable).toBeVisible({timeout: 20000});
  258 |     await selectCustomerListed.click();
  259 |     await page.locator("input[aria-label='Product Search']").fill("508201")
  260 |     await page.locator("button[aria-label='Add']").waitFor({ state: 'visible', timeout: 15000 })
  261 |     const productSearchAddBtn = page.locator("button[aria-label='Add']")
  262 |     await productSearchAddBtn.click()
  263 |     await page.waitForSelector("div[class='oj-listview-cell-element']", { state: 'visible', timeout: 16000 })
  264 |     const productSelAddToBsktList = page.locator("div[class='oj-listview-cell-element']")
  265 |     await expect(productSelAddToBsktList).toBeVisible({ timeout: 12000 });
  266 |     const clickOnSubmitBtn = page.locator("button[aria-label='Submit']")
> 267 |     await clickOnSubmitBtn.click({ force: true });
      |                            ^ Error: locator.click: Element is outside of the viewport
  268 |     await page.getByRole('heading', { name: 'Checkout', exact: true }).waitFor({ state: 'visible' });
  269 |
  270 |     const waitForPickingNoteHeaderText = page.locator("//span[text()='Print picking note']");
  271 |     const waitForEditBsktItemChk = page.locator("//span[text()='Have you picked ALL stock items?']");
  272 |     await expect(waitForPickingNoteHeaderText).toBeVisible();
  273 |     await expect(waitForEditBsktItemChk).toBeVisible();
  274 |     const isPrintBtnAvailableOnOrderDialog = page.getByRole('button',{name:'Print'});
  275 |     await expect(isPrintBtnAvailableOnOrderDialog).toBeVisible();
  276 |     const isEditBtnAvailableOnOrderDialog = page.getByRole('button').filter({hasText:'Edit'});
  277 |     await expect(isEditBtnAvailableOnOrderDialog).toBeVisible();
  278 |     (await page.waitForSelector("//button[text()='Confirm']")).waitForElementState('enabled');
  279 |     await page.locator("//button[text()='Confirm']").click({timeout:5000});
  280 |     expect(await page.locator("#oj_gop1_h_pageTitle").textContent()).toMatchSnapshot(["OrderCapture/OrderConfirmation", "OrderConfirmationHeader.txt"]);
  281 | })
  282 |
  283 | // test.skip("Validate Extended button under Detail Slot section", async ({ page }) => {
  284 | //     const extendedBtnOnDetailSlot = page.getByRole('button', { name: 'Extended' })
  285 | //     await expect(extendedBtnOnDetailSlot).toHaveScreenshot(["OrderCapture/DetailSlotSection", "ExtendedBtnDetailSlotSectionOnOrderCapturePage.png"])
  286 | // })
  287 |
  288 |
```